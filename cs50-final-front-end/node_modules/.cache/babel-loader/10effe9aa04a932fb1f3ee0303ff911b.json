{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/createClass\";\nimport _possibleConstructorReturn from \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/possibleConstructorReturn\";\nimport _getPrototypeOf from \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/getPrototypeOf\";\nimport _inherits from \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\node_modules\\\\@babel\\\\runtime/helpers/esm/inherits\";\nvar _jsxFileName = \"C:\\\\Users\\\\erhie\\\\OneDrive\\\\Desktop\\\\Files\\\\Learning\\\\CS50x2022\\\\Final Project\\\\cs50-final-front-end\\\\src\\\\components\\\\Rank.js\";\nimport React, { Component } from 'react';\n\nvar Rank = /*#__PURE__*/function (_Component) {\n  _inherits(Rank, _Component);\n\n  // Defines initial state for the component\n  function Rank() {\n    var _this;\n\n    _classCallCheck(this, Rank);\n\n    _this = _possibleConstructorReturn(this, _getPrototypeOf(Rank).call(this));\n    _this.state = {\n      leaderboard: [],\n      scores: [],\n      attempts: 0,\n      max_score: 0\n    };\n    return _this;\n  } // Fetches leaderboard and score data for the user\n  // Once the component is loaded\n  // Stores them in state for use later\n\n\n  _createClass(Rank, [{\n    key: \"componentDidMount\",\n    value: function componentDidMount() {\n      var _this2 = this;\n\n      fetch(\"\".concat(this.props.server, \"/rank\"), {\n        method: 'post',\n        headers: {\n          'Content-Type': 'application/json'\n        },\n        body: JSON.stringify({\n          id: this.props.user.id\n        })\n      }).then(function (response) {\n        return response.json();\n      }).then(function (response) {\n        _this2.setState({\n          leaderboard: response[0],\n          scores: response[1],\n          attempts: response[2][0].attempts,\n          max_score: response[2][0].max_score\n        });\n      });\n    }\n  }, {\n    key: \"render\",\n    value: function render() {\n      var _this3 = this;\n\n      // dereferences prop and state variables\n      var user = this.props.user;\n      var _this$state = this.state,\n          leaderboard = _this$state.leaderboard,\n          scores = _this$state.scores,\n          attempts = _this$state.attempts,\n          max_score = _this$state.max_score;\n      return /*#__PURE__*/React.createElement(\"div\", {\n        className: \"pa4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 43,\n          columnNumber: 7\n        }\n      }, this.state.leaderboard.length === 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mt4 mb4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 46,\n          columnNumber: 13\n        }\n      }, \" Loading Leaderboard ... \") // Loading message\n      :\n      /*#__PURE__*/\n      // Displays table based on leaderboard data from database\n      React.createElement(\"div\", {\n        className: \"overflow-auto mb4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 48,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 15\n        }\n      }, \" Top 10 Leaderboard \"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"f6 w-100 mw8\",\n        cellSpacing: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 50,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"stripe-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 52,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"fw6 pa3 bg-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 53,\n          columnNumber: 21\n        }\n      }, \"Rank\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"fw6 pa3 bg-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 54,\n          columnNumber: 21\n        }\n      }, \"Username\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"fw6 pa3 bg-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 55,\n          columnNumber: 21\n        }\n      }, \"Attempts\"), /*#__PURE__*/React.createElement(\"th\", {\n        className: \"fw6 pa3 bg-red\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 56,\n          columnNumber: 21\n        }\n      }, \"Max Score\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        className: \"lh-copy\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 59,\n          columnNumber: 17\n        }\n      }, leaderboard.map(function (leader, index) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"stripe-dark\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 63,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          className: \"pa3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 27\n          }\n        }, \" \", index + 1, \" \"), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"pa3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 65,\n            columnNumber: 27\n          }\n        }, leader.name), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"pa3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 66,\n            columnNumber: 27\n          }\n        }, leader.attempts), /*#__PURE__*/React.createElement(\"td\", {\n          className: \"pa3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 67,\n            columnNumber: 27\n          }\n        }, leader.max_score));\n      })))), this.state.scores.length === 0 ? /*#__PURE__*/React.createElement(\"h3\", {\n        className: \"mt4 mb4\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 80,\n          columnNumber: 13\n        }\n      }, \" Loading Previous Scores ... \") // Loading message\n      :\n      /*#__PURE__*/\n      //Displays user's last five scores if they exist in database\n      React.createElement(\"div\", {\n        className: \"overflow-auto\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 82,\n          columnNumber: 13\n        }\n      }, /*#__PURE__*/React.createElement(\"h3\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 83,\n          columnNumber: 15\n        }\n      }, \" \", \"\".concat(user.name, \"'s Last 5 Attempts out of \").concat(attempts, \" Attempts\"), \" \"), /*#__PURE__*/React.createElement(\"h4\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 84,\n          columnNumber: 15\n        }\n      }, \" \", \"With \".concat(user.name, \"'s Current Highest Score being \").concat(max_score), \" \"), /*#__PURE__*/React.createElement(\"table\", {\n        className: \"f6 w-100 mw8\",\n        cellSpacing: \"0\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 85,\n          columnNumber: 15\n        }\n      }, /*#__PURE__*/React.createElement(\"thead\", {\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 86,\n          columnNumber: 16\n        }\n      }, /*#__PURE__*/React.createElement(\"tr\", {\n        className: \"stripe-dark\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 87,\n          columnNumber: 19\n        }\n      }, /*#__PURE__*/React.createElement(\"th\", {\n        className: \"fw6 pa3 bg-orange\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 88,\n          columnNumber: 21\n        }\n      }, \"Score\"))), /*#__PURE__*/React.createElement(\"tbody\", {\n        className: \"lh-copy\",\n        __self: this,\n        __source: {\n          fileName: _jsxFileName,\n          lineNumber: 91,\n          columnNumber: 17\n        }\n      }, scores.map(function (score) {\n        return /*#__PURE__*/React.createElement(\"tr\", {\n          className: \"stripe-dark\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 95,\n            columnNumber: 25\n          }\n        }, /*#__PURE__*/React.createElement(\"td\", {\n          className: \"pa3\",\n          __self: _this3,\n          __source: {\n            fileName: _jsxFileName,\n            lineNumber: 96,\n            columnNumber: 27\n          }\n        }, \" \", score.score, \" \"));\n      })))));\n    }\n  }]);\n\n  return Rank;\n}(Component);\n\nexport default Rank;","map":{"version":3,"names":["React","Component","Rank","state","leaderboard","scores","attempts","max_score","fetch","props","server","method","headers","body","JSON","stringify","id","user","then","response","json","setState","length","map","leader","index","name","score"],"sources":["C:/Users/erhie/OneDrive/Desktop/Files/Learning/CS50x2022/Final Project/cs50-final-front-end/src/components/Rank.js"],"sourcesContent":["import React, {Component} from 'react';\r\n\r\nclass Rank extends Component{\r\n  // Defines initial state for the component\r\n  constructor() {\r\n    super();\r\n    this.state = {\r\n      leaderboard: [],\r\n      scores: [],\r\n      attempts: 0,\r\n      max_score: 0\r\n    };\r\n  }\r\n\r\n  // Fetches leaderboard and score data for the user\r\n  // Once the component is loaded\r\n  // Stores them in state for use later\r\n  componentDidMount(){\r\n      fetch(`${this.props.server}/rank`, {\r\n        method: 'post',\r\n        headers: {'Content-Type': 'application/json'},\r\n        body: JSON.stringify({\r\n          id: this.props.user.id\r\n        })\r\n      })\r\n      .then(response => response.json())\r\n      .then(response => {\r\n        this.setState({\r\n          leaderboard: response[0],\r\n          scores: response[1],\r\n          attempts: response[2][0].attempts,\r\n          max_score: response[2][0].max_score\r\n        })\r\n      });\r\n  }\r\n\r\n  render() {\r\n    // dereferences prop and state variables\r\n    const {user} = this.props;\r\n    const {leaderboard, scores, attempts, max_score} = this.state;\r\n\r\n    return (\r\n      <div className=\"pa4\">\r\n        {\r\n          this.state.leaderboard.length === 0\r\n          ? <h3 className='mt4 mb4'> Loading Leaderboard ... </h3> // Loading message\r\n          : (        // Displays table based on leaderboard data from database\r\n            <div className=\"overflow-auto mb4\">\r\n              <h3> Top 10 Leaderboard </h3>\r\n              <table className=\"f6 w-100 mw8\" cellSpacing=\"0\">\r\n               <thead>\r\n                  <tr className=\"stripe-dark\">\r\n                    <th className=\"fw6 pa3 bg-red\">Rank</th>\r\n                    <th className=\"fw6 pa3 bg-red\">Username</th>\r\n                    <th className=\"fw6 pa3 bg-red\">Attempts</th>\r\n                    <th className=\"fw6 pa3 bg-red\">Max Score</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"lh-copy\">\r\n                  {\r\n                    leaderboard.map((leader, index) => {\r\n                      return (   \r\n                        <tr className=\"stripe-dark\">\r\n                          <td className=\"pa3\"> {index + 1} </td>\r\n                          <td className=\"pa3\">{leader.name}</td>\r\n                          <td className=\"pa3\">{leader.attempts}</td>\r\n                          <td className=\"pa3\">{leader.max_score}</td>\r\n                        </tr>\r\n                        )\r\n                    })\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )\r\n        }\r\n\r\n        {\r\n          this.state.scores.length === 0\r\n          ? <h3 className='mt4 mb4'> Loading Previous Scores ... </h3> // Loading message\r\n          : ( //Displays user's last five scores if they exist in database\r\n            <div className=\"overflow-auto\">\r\n              <h3> {`${user.name}'s Last 5 Attempts out of ${attempts} Attempts`} </h3>\r\n              <h4> {`With ${user.name}'s Current Highest Score being ${max_score}`} </h4>\r\n              <table className=\"f6 w-100 mw8\" cellSpacing=\"0\">\r\n               <thead>\r\n                  <tr className=\"stripe-dark\">\r\n                    <th className=\"fw6 pa3 bg-orange\">Score</th>\r\n                  </tr>\r\n                </thead>\r\n                <tbody className=\"lh-copy\">\r\n                  {\r\n                    scores.map((score) => {\r\n                      return (\r\n                        <tr className=\"stripe-dark\">\r\n                          <td className=\"pa3\"> {score.score} </td>\r\n                        </tr>\r\n                      )\r\n                    })\r\n                  }\r\n                </tbody>\r\n              </table>\r\n            </div>\r\n          )\r\n        }\r\n      </div>\r\n    );\r\n  }\r\n}\r\n\r\nexport default Rank;"],"mappings":"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"},"metadata":{},"sourceType":"module"}